<section
class="container py-0"
*ngIf="bookingDetail$ | async as bookingDetail"
>
<div class="row align-items-top">
  <div class="col-lg-9">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title text-uppercase">Booking Detail</h5>
        <h6 class="card-text">Amount: {{ bookingDetail.amount }}$</h6>
        <h6 class="card-text">Create At: {{ bookingDetail.createTime }}</h6>
        <span [ngClass]="getBookingStatusClass(bookingDetail.statusString)">{{
          bookingDetail.statusString | titlecase
        }}</span>
        <div class="row">
          <div class="row col-lg-6">
            <div class="card-body">
              <h5 class="card-title">Catalog</h5>
              <ol class="list-group list-group-numbered">
                <li
                  class="list-group-item d-flex justify-content-between align-items-start"
                  *ngFor="let item of bookingDetail.ticketCatalogList"
                >
                  <div class="ms-2 me-auto">
                    <div class="fw-bold">{{ item.ticketCatalogTitle }}</div>
                    {{ item.price }}$
                  </div>
                  <span class="badge bg-primary rounded-pill">{{
                    item.quantity
                  }}</span>
                </li>
              </ol>
            </div>
          </div>
          <div class="col-lg-6" *ngIf="bookingDetail.event.typeString === 'CHARGE'">
            <div class="card-body">
              <h5 class="card-title">Payment</h5>
              <div class="row col-sm-auto">
                <div
                  class="col-sm-4 custom-control custom-radio custom-control-inline"
                >
                  <img
                    width="100px"
                    [src]="getPaymentTypeLogo(bookingDetail.payment.typeString)"
                    class="card-image"
                  />
                </div>
                <div class="col-sm-8">
                  <h6>Code: {{bookingDetail.payment.code}}</h6>
                  <h6>Create at: {{bookingDetail.payment.createTime}}</h6>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header">Ticket List</div>
      <div class="card-body">
        <app-ticket-detail-admin
          *ngFor="let ticket of bookingDetail.listTicket"
          [ticket]="ticket"
        ></app-ticket-detail-admin>
      </div>
    </div>
  </div>
  <div class="col-lg-3">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">User Information</h5>
        <h6 class="card-text">Full name: {{ bookingDetail.fullName }}</h6>
        <h6 class="card-text">Username: {{ bookingDetail.username }}</h6>
        <h6 class="card-text">Mobile: {{ bookingDetail.mobile }}</h6>
        <h6 class="card-text">Email: {{ bookingDetail.email }}</h6>
      </div>
    </div>
    <div class="card">
      <div class="bg-image hover-overlay" mdbRipple rippleColor="light">
        <img
          [src]="BASE_API + bookingDetail.event.imagePathList[0]"
          class="img-fluid"
          width="320px"
          height="320px"
        />
      </div>
      <div class="card-body">
        <div class="row mt-1">
          <div class="col-md-6"></div>
          <div class="col-md-6 d-flex justify-content-end">
            <span [ngClass]="getClassOfEventStatus(bookingDetail.event)">{{
              bookingDetail.event.statusString | titlecase
            }}</span>
          </div>
        </div>
        <h5 class="card-title">{{ bookingDetail.event.title.length > 30 ? bookingDetail.event.title.substring(0, 27) + '...' : bookingDetail.event.title}}</h5>
        <h6 class="card-footer">{{bookingDetail.event.organizer.name}}</h6>
        <p class="text-muted">
          Tags:
          <span
            class="badge bg-light text-dark"
            *ngFor="let tag of bookingDetail.event.listTag"
            >{{ tag }}</span
          >
        </p>
    
        <div class="row">
          <div class="col-md-6">
            <button
              class="btn btn-outline-primary"
              [routerLink]="['/admin/events/', bookingDetail.event.id]"
            >
              More
            </button>
          </div>
    
          <div class="col-md-6 d-flex justify-content-end">
            <span class="align-content-center text-dark fs-5"
              ><span class="text-danger fw-bold"
                ><i class="bi bi-heart-fill"></i
              ></span>
              &nbsp;{{ bookingDetail.event.followerNum }}</span
            >
          </div>
        </div>
      </div>
     </div>
  </div>
</div>
</section>